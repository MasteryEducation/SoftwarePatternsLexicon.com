---
linkTitle: "Change Data Capture (CDC)"
title: "Change Data Capture (CDC)"
category: "Relational Modeling Patterns"
series: "Data Modeling Design Patterns"
description: "Tracking changes like inserts, updates, and deletes to records in a database to share them with other systems or use them for auditing purposes."
categories:
- Relational Modeling
- Data Integration
- Database Patterns
tags:
- CDC
- Data Integration
- Database Change Tracking
- Event Sourcing
- Relational Databases
date: 2024-07-07
type: docs
canonical: "https://softwarepatternslexicon.com/102/1/30"
license: "Â© 2024 Tokenizer Inc. CC BY-NC-SA 4.0"
---


## Overview
Change Data Capture (CDC) is a software design pattern used to identify and track changes in data within a database. By capturing the insert, update, and delete activities, CDC allows these changes to be stored and processed to achieve purposes such as ensuring data consistency across various systems, real-time data integration, or maintaining audit trails.

## How CDC Works
CDC operates by monitoring database tables and representing any change in data state either by:

- **Log-based Capture**: Utilizes database logs to detect changes. It reads the transaction logs generated by the database management system to replicate data changes.
- **Trigger-based Capture**: Involves using database triggers that automatically respond to data modifications by storing change records in separate tables.
- **Timestamp-based Capture**: Relies on a timestamp column for detecting new or changed data rows by comparing against previous extraction times.

## Benefits
- **Consistency**: Ensures that data across systems remains consistent as changes in one system are captured and reflected elsewhere.
- **Efficiency**: Only changes are processed and stored, reducing the amount of processing and storage required.
- **Flexibility**: Can be integrated with a variety of systems enabling heterogenous data environments.
- **Auditability**: Maintains precise records of data changes for historical auditing or compliance purposes.

## Example Implementation
Imagine a scenario where a retail company wishes to integrate sales data from their operational database with a central data warehouse in near real-time. A CDC mechanism is put in place as follows:

### Components
- **Source Database**: Contains a "Products" table with columns like `ProductID`, `ProductName`, `Price`, `StockQuantity`.
- **CDC Engine**: Captures changes (insert, update, delete) applied to the "Products" table.
- **Data Warehouse**: A central location where synchronized data from various sources resides.

### Example Code (Using Apache Kafka Connect)
Here is an example of how to implement CDC with Kafka Connect:

```json
{
  "name": "cdc-source-connector",
  "config": {
    "connector.class": "io.debezium.connector.mysql.MySqlConnector",
    "tasks.max": "1",
    "database.hostname": "localhost",
    "database.port": "3306",
    "database.user": "cdc_user",
    "database.password": "password",
    "database.server.id": "184054",
    "database.server.name": "products",
    "table.whitelist": "inventory.products",
    "include.schema.changes": "true"
  }
}
```

## Related Patterns
- **Event Sourcing**: Maintain a complete sequence of application state-changing events.
- **Data Synchronization Pattern**: Keep data constant between two or more systems by comparing and recording changes.

## Additional Resources
- [Debezium Documentation](https://debezium.io/documentation/)
- [Apache Kafka Documentation](https://kafka.apache.org/documentation/)
- [IBM CDC Guide](https://www.ibm.com/docs/en)

## Summary
Change Data Capture (CDC) is a pivotal pattern in modern data-centric architectures. By providing a structured approach to monitor and react to data modifications, CDC promotes data consistency, reduces redundancy, and supports real-time data processing across diverse systems. Whether you're integrating databases, feeding data lakes, or maintaining event-driven architectures, CDC offers the agility needed to keep pace with evolving data landscapes.
